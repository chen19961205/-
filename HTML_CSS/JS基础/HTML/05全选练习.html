<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全选练习</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        
        .sportForm {
            width: 400px;
            border: 1px solid black;
            margin: 0 auto;
        }
    </style>
    <script>
        window.onload = function() {
            var checkedAllBox = document.getElementById("checkedAllBox");
            var items = document.getElementsByName('items');

            function click(idValue, fun) {
                var btn = document.getElementById(idValue);
                btn.onclick = fun;
            }

            click("checkedAllBtn", function() {

                checkedAllBox.checked = true;
                for (var i = 0; i < items.length; i++) {
                    items[i].checked = true;
                }
            });

            click("checkedNoBtn", function() {

                checkedAllBox.checked = false;
                for (var i = 0; i < items.length; i++) {
                    items[i].checked = false;
                }
            });

            click("checkedRevBtn", function() {

                var flag = 1;
                for (var i = 0; i < items.length; i++) {
                    if (items[i].checked) {
                        items[i].checked = false;
                        flag = 0;
                    } else {
                        items[i].checked = true;
                    }
                }
                flag == 1 ? checkedAllBox.checked = true : checkedAllBox.checked = false;
            });

            click("sendBtn", function() {

            });

            click("checkedAllBox", function() {

                // alert(checkedAllBox.checked);
                for (var i = 0; i < items.length; i++) {
                    items[i].checked = checkedAllBox.checked;
                }

            });

            for (var i = 0; i < items.length; i++) {
                items[i].onclick = function() {
                    // checkedAllBox.checked = true;
                    if (items[i].checked == false) {
                        checkedAllBox.checked = false;
                    } else {
                        for (var j = 0; j < items.length; j++) {
                            if (!items[j].checked) {
                                checkedAllBox.checked = false;
                                break;
                            }
                            checkedAllBox.checked = true;

                        }

                    }
                }
            }



        };
    </script>
</head>

<body>
    <form method="POST" action="" class="sportForm">
        <p>你爱好的运动是？</p>
        <input type="checkbox" id="checkedAllBox">全选/全不选
        <br>
        <input type="checkbox" name="items" id="">足球
        <input type="checkbox" name="items" id="">篮球
        <input type="checkbox" name="items" id="">羽毛球
        <input type="checkbox" name="items" id="">乒乓球
        <br>
        <input type="button" id="checkedAllBtn" value="全选">
        <input type="button" id="checkedNoBtn" value="全不选">
        <input type="button" id="checkedRevBtn" value="反选">
        <input type="button" id="sendBtn" value="提交">
    </form>
</body>

</html>